"use strict";(self.webpackChunkreact=self.webpackChunkreact||[]).push([[858,449],{4878:(t,e,n)=>{n.d(e,{Z:()=>i});var r=n(5466),o=n(2255),a=n(6469);function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c=function(t){var e,n,c=t.item,i=(e=(0,r.useState)(c.qty),n=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,l,c=[],i=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);i=!0);}catch(t){u=!0,o=t}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(e,n)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=i[0],f=i[1],d=(0,o.I0)();return r.createElement("tr",null,r.createElement("td",null,c.name),r.createElement("td",null,c.price),r.createElement("td",null,c.description),r.createElement("td",null,c.rating),r.createElement("td",null,t.readOnly?u:r.createElement("input",{type:"text",value:u,onChange:function(t){f(t.target.value)}})),r.createElement("td",null,c.qty*c.price),t.readOnly?"":r.createElement(r.Fragment,null,r.createElement("td",null,r.createElement("button",{onClick:function(){return d((0,a.kx)(c._id))}},"Remove")," "),r.createElement("td",null,r.createElement("button",{onClick:function(){return d((0,a.Vp)(c._id,u))}},"Update"))))};const i=r.memo(c)},7035:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(5466),o=function(t){return r.createElement(r.Fragment,null,r.createElement("h1",null,"CART SUMMARY"),r.createElement("div",null,r.createElement("p",null," Total : ",t.data.total," "),r.createElement("p",null," Total Quantity : ",t.data.qty," ")))};const a=r.memo(o)},5858:(t,e,n)=>{n.r(e),n.d(e,{default:()=>f});var r=n(5466),o=n(2255),a=n(1807),l=n(7035),c=n(4878),i=n(7727);function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n(6449);const f=function(){var t=(0,o.v9)((function(t){return t.userReducer.user})),e=(0,o.v9)((function(t){return t.cartReducer})),n=(0,a.s0)(),f=(0,o.I0)();return r.createElement(r.Fragment,null,r.createElement("h1",null,"Checkout PAGE"),t&&e&&e.length>=1?r.createElement(r.Fragment,null,r.createElement("h2",null,"ITEMS INFORMATION"),r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Name"),r.createElement("th",null,"Price"),r.createElement("th",null,"Description"),r.createElement("th",null,"Rating"),r.createElement("th",null,"Quantity"),r.createElement("th",null,"Total"))),r.createElement("tbody",null,e.map((function(t){return r.createElement(c.Z,{readOnly:!0,item:t,key:t._id})})))),r.createElement(l.Z,{data:function(t){var e,n=0,r=0,o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){c=!0,a=t},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw a}}}}(t);try{for(o.s();!(e=o.n()).done;){var a=e.value;n+=a.price*a.qty,r+=a.qty}}catch(t){o.e(t)}finally{o.f()}return{total:n,qty:r}}(e)}),r.createElement("h2",null,"USER DETAIL"),r.createElement("p",null,"Name: ",t.firstName+t.lastName," "),r.createElement("p",null,"Address: ",t.address," "),r.createElement("p",null,"We will deliver products to above information "),r.createElement("button",{onClick:function(t){n("/cart"),t.preventDefault()}},"Back"),r.createElement("button",{onClick:function(n){alert("Thankyou for the payment, your items under process!");var r=new Date,o={userid:t._id,order:e,date:r};f((0,i.Mk)(o)),n.preventDefault()}},"Payment")):"")}},6449:(t,e,n)=>{n.r(e),n.d(e,{default:()=>l});var r=n(5466),o=n(2255),a=n(2387);const l=function(){var t=(0,o.v9)((function(t){return t.couponReducer})),e=(0,o.I0)();return console.log("coupon is "+t),r.createElement(r.Fragment,null,r.createElement("button",{onClick:function(t){for(var n,r=0;r<6;r++)Math.round(10*Math.random());e((n={numbers:10},{type:a.iJ,payload:n})),t.preventDefault()}},"GenerateCoupon"))}},6469:(t,e,n)=>{n.d(e,{Vp:()=>c,WK:()=>u,dm:()=>a,kx:()=>l,wK:()=>i});var r=n(2387);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var a=function(t){return{type:r.xL,payload:t}},l=function(t){return{type:r.Nh,payload:t}},c=function(t,e){return{type:r.ei,payload:{id:t,qty:parseInt(e)}}},i=function(t,e){return function(n){window.fetch("http://localhost:9000/cart/api/additem",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({userid:e,cart:t})}).then((function(t){return t.json()})).then((function(t){console.log("successfully added "+t)})).catch((function(t){console.log("ERROR while adding Item")}))}},u=function(t){return function(e){window.fetch("http://localhost:9000/cart/api/getUserCart",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({userid:t})}).then((function(t){return t.json()})).then((function(t){if(e({type:r.Qd}),t){var n,l=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,i=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){i=!0,l=t},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw l}}}}(t.cart);try{for(l.s();!(n=l.n()).done;){var c=n.value;e(a(c))}}catch(t){l.e(t)}finally{l.f()}}}))}}},7727:(t,e,n)=>{n.d(e,{Mk:()=>i,i5:()=>l,xK:()=>c});var r=n(2387);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var a=function(t){return{type:r.UI,payload:t}},l=function(t){return console.log("delete order from db is called "+t),function(e){window.fetch("http://localhost:9000/order/api/delete",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({orderid:t})}).then((function(t){return t.json()})).then((function(n){var o;e((o=t,{type:r.QD,payload:o})),console.log("successfully deleted order from dm ")})).catch((function(t){console.log("error while deleting order from db "+t)}))}},c=function(t){return function(e){window.fetch("http://localhost:9000/order/api/get",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({userid:t})}).then((function(t){return t.json()})).then((function(t){if(console.log("successfully retrieved order from db "+t),e({type:r.sE}),t){var n,l=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,i=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){i=!0,l=t},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw l}}}}(t);try{for(l.s();!(n=l.n()).done;){var c=n.value;e(a(c))}}catch(t){l.e(t)}finally{l.f()}}})).catch((function(t){console.log("error while retrieving order from db "+t)}))}},i=function(t){return function(e){window.fetch("http://localhost:9000/order/api/save",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.json()})).then((function(t){console.log("successfully saved order to db "),e(a(t))})).catch((function(t){console.log("error while saving order to db "+t)}))}}}}]);